<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuyên Khoa | Phòng Khám</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    color: #333;
    background: #f9f9f9;
}

.specialist-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 30px 20px;
}

.section-title {
    text-align: center;
    color: #2c3e50;
    font-size: 2em;
    position: relative;
    margin-bottom: 30px;
}

.section-title:after {
    content: '';
    display: block;
    width: 80px;
    height: 3px;
    background: #3498db;
    margin: 15px auto;
}

.specialty {
    display: flex;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    margin-bottom: 20px;
    overflow: hidden;
}

.specialty-image {
    width: 180px;
    min-width: 180px;
    height: 180px;
    position: relative;
    overflow: hidden;
}

.specialty-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.5s ease;
    position: absolute;
    top: 0;
    left: 0;
}

.specialty-image img:not(.active) {
    opacity: 0;
}

.specialty-content {
    flex: 1;
    padding: 20px;
    display: flex;
    flex-direction: column;
    min-width: 0;
}

.specialty-title {
    color: #3498db;
    font-size: 1.4em;
    margin-bottom: 15px;
    position: relative;
    padding-bottom: 10px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.specialty-title:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background: #3498db;
}

.content-wrapper {
    position: relative;
    flex: 1;
}

.specialty-text {
    font-size: 1em;
    color: #555;
    line-height: 1.6;
    overflow: hidden;
    position: relative;
    max-height: 96px;
    transition: max-height 0.3s ease;
}

.specialty-text.expanded {
    max-height: none;
}

.text-gradient {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 40px;
    background: linear-gradient(transparent, #fff);
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.specialty-text.expanded + .text-gradient {
    opacity: 0;
}

/* Doctors Slider */
.doctors-slider {
    display: none;
    margin-top: 20px;
}

.doctors-slider.visible {
    display: block;
}

.doctors-slider h3 {
    color: #2c3e50;
    font-size: 1.1em;
    margin-bottom: 15px;
}

.doctors-wrapper {
    position: relative;
    padding: 0 30px;
    overflow: hidden;
    touch-action: pan-y pinch-zoom;
}

.doctors-container {
    overflow: hidden;
    margin: 0 -10px;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
}

.doctors-track {
    display: flex;
    transition: transform 0.3s ease;
    width: 100%;
}

.doctor-card {
    flex-shrink: 0;
    width: calc(33.333% - 20px);
    margin: 0 10px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 6px;
    display: flex;
    align-items: center;
    scroll-snap-align: start;
}

.doctor-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 10px;
    flex-shrink: 0;
}

.doctor-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.doctor-info {
    min-width: 0;
}

.doctor-name {
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.doctor-title {
    font-size: 0.9em;
    color: #666;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Slider Controls */
.slider-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 30px;
    background: #3498db;
    border: none;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
    z-index: 1;
}

.slider-button:hover {
    background: #2980b9;
}

.slider-button.prev {
    left: 0;
}

.slider-button.next {
    right: 0;
}

.slider-button:disabled {
    background: #ccc;
    cursor: not-allowed;
}

.dots-container {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 15px;
    padding: 10px 0;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #ddd;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.dot.active {
    background: #3498db;
}

/* Expand Button */
.expand-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: #3498db;
    background: transparent;
    border: none;
    padding: 5px 0;
    cursor: pointer;
    font-size: 0.9em;
    margin-top: 15px;
}

.expand-icon {
    width: 16px;
    height: 16px;
    position: relative;
}

.expand-icon::before,
.expand-icon::after {
    content: '';
    position: absolute;
    background: currentColor;
    border-radius: 1px;
}

.expand-icon::before {
    width: 2px;
    height: 10px;
    left: 7px;
    top: 3px;
    opacity: 1;
    transition: opacity 0.3s;
}

.expand-icon::after {
    width: 10px;
    height: 2px;
    left: 3px;
    top: 7px;
}

.expanded .expand-icon::before {
    opacity: 0;
}

/* Responsive Design */
@media (max-width: 768px) and (min-width: 481px) {
    .specialty {
        flex-direction: row;
    }

    .specialty-image {
        width: 150px;
        min-width: 150px;
        height: 150px;
    }

    .doctor-card {
        width: calc(50% - 20px);
    }

    .doctors-track {
        width: 200%;
    }
}

@media (max-width: 480px) {
    .section-title {
        font-size: 1.8em;
    }

    .specialty {
        flex-direction: column;
    }

    .specialty-image {
        width: 100%;
        max-width: 200px;
        height: 200px;
        margin: 0 auto;
    }

    .specialty-content {
        padding: 15px;
    }

    .specialty-title {
        font-size: 1.2em;
    }

    .specialty-text {
        font-size: 0.95em;
    }

    .doctors-wrapper {
        padding: 0;
        margin: 0 -15px;
    }

    .doctors-container {
        overflow-x: auto;
    }

    .doctor-card {
        width: calc(100% - 30px);
        margin: 0 15px;
        scroll-snap-align: center;
    }

    .doctors-track {
        width: fit-content;
        transform: none !important;
    }

    .slider-button {
        display: none;
    }

    .dots-container {
        margin-top: 20px;
    }

    .dot {
        width: 10px;
        height: 10px;
    }
}    </style>
</head>
<body>
    <section class="specialist-section">
        <h1 class="section-title">Đội Ngũ Y Bác Sĩ Chuyên Khoa Hàng Đầu</h1>

        <div class="specialty">
            <div class="specialty-image">
                <img src="image/specialist1-1.jpg" alt="Chuyên Khoa Sản Phụ Khoa" class="active" loading="lazy">
                <img src="image/specialist1-2.jpg" alt="Chuyên Khoa Sản Phụ Khoa" loading="lazy">
                <img src="image/specialist1-3.jpg" alt="Chuyên Khoa Sản Phụ Khoa" loading="lazy">
		<img src="image/specialist1-4.jpg" alt="Chuyên Khoa Sản Phụ Khoa" loading="lazy">
            </div>
            <div class="specialty-content">
                <h2 class="specialty-title">Chuyên Khoa Sản Phụ Khoa</h2>
                <div class="content-wrapper">
                    <div class="specialty-text">
                        <p>
                            Phòng khám tự hào với đội ngũ bác sĩ giàu kinh nghiệm đến từ Bệnh viện Từ Dũ - một trong những trung tâm sản khoa hàng đầu khu vực phía Nam. Các bác sĩ chuyên về điều trị các bệnh lý phụ khoa phức tạp như u xơ tử cung, u nang buồng trứng, và tầm soát ung thư cổ tử cung. Đồng thời, chúng tôi cung cấp dịch vụ chăm sóc thai sản toàn diện, từ khám thai định kỳ, sàng lọc trước sinh đến hỗ trợ sinh tại Bệnh viện Từ Dũ.
                        </p>
                    </div>
                    <div class="text-gradient"></div>
                    <div class="doctors-slider">
                        <h3>Đội ngũ bác sĩ:</h3>
                        <div class="doctors-wrapper">
                            <button class="slider-button prev" disabled>&lt;</button>
                            <div class="doctors-container">
                                <div class="doctors-track">
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor1.jpg" alt="BS. Nguyễn Hoàng Lam" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Nguyễn Hoàng Lam</div>
                                            <div class="doctor-title">Chuyên khoa 2 - Phó Khoa</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor2.jpg" alt="BS. Đào Hoàng Hoa Hà Hải Âu" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Đào Hoàng Hoa Hà Hải Âu</div>
                                            <div class="doctor-title">Chuyên khoa I</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor1.jpg" alt="BS. Nguyễn Hoàng Lam" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Nguyễn Hoàng Lam</div>
                                            <div class="doctor-title">Chuyên khoa 2 - Phó Khoa</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor2.jpg" alt="BS. Đào Hoàng Hoa Hà Hải Âu" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Đào Hoàng Hoa Hà Hải Âu</div>
                                            <div class="doctor-title">Chuyên khoa I</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="slider-button next">&gt;</button>
                            <div class="dots-container"></div>
                        </div>
                    </div>
                </div>
                <button class="expand-button">
                    <span class="expand-icon"></span>
                    <span class="button-text">Xem thêm thông tin</span>
                </button>
            </div>
        </div>

        <div class="specialty">
            <div class="specialty-image">
                <img src="image/specialist2-1.jpg" alt="Chuyên Khoa Tai Mũi Họng" class="active" loading="lazy">
		<img src="image/specialist2-2.jpg" alt="Chuyên Khoa Tai Mũi Họng" loading="lazy">
                <img src="image/specialist2-3.jpg" alt="Chuyên Khoa Tai Mũi Họng" loading="lazy">
            </div>
            <div class="specialty-content">
                <h2 class="specialty-title">Chuyên Khoa Tai Mũi Họng</h2>
                <div class="content-wrapper">
                    <div class="specialty-text">
                        <p>
                            Với đội ngũ chuyên gia đến từ Vinmec, phòng khám mang đến dịch vụ khám và điều trị các bệnh lý tai mũi họng chất lượng cao. Các bác sĩ có nhiều năm kinh nghiệm trong điều trị các bệnh lý như viêm xoang mãn tính, viêm amidan, viêm mũi dị ứng và đặc biệt là tầm soát ung thư vòm họng. Phòng khám được trang bị hệ thống nội soi hiện đại, giúp chẩn đoán chính xác và điều trị hiệu quả.
                        </p>
                    </div>
                    <div class="text-gradient"></div>
                    <div class="doctors-slider">
                        <h3>Đội ngũ bác sĩ:</h3>
                        <div class="doctors-wrapper">
                            <button class="slider-button prev" disabled>&lt;</button>
                            <div class="doctors-container">
                                <div class="doctors-track">
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor5.jpg" alt="BS. Đặng Thị Thùy Trang" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Đặng Thị Thùy Trang</div>
                                            <div class="doctor-title">Chuyên khoa 2 - Trưởng khoa - Bệnh viện Vinmec</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor6.jpg" alt="BS. Trọng" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Trọng</div>
                                            <div class="doctor-title">Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor7.jpg" alt="BS. Chinh" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Chinh</div>
                                            <div class="doctor-title">Bác sĩ -Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor8.jpg" alt="" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name"></div>
                                            <div class="doctor-title"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="slider-button next">&gt;</button>
                            <div class="dots-container"></div>
                        </div>
                    </div>
                </div>
                <button class="expand-button">
                    <span class="expand-icon"></span>
                    <span class="button-text">Xem thêm thông tin</span>
                </button>
            </div>
        </div>

        <div class="specialty">
            <div class="specialty-image">
                <img src="image/specialist3-1.jpg" alt="Chuyên Khoa Nội" class="active" loading="lazy">
                <img src="image/specialist3-2.jpg" alt="Chuyên Khoa Nội" loading="lazy">
                <img src="image/specialist3-3.jpg" alt="Chuyên Khoa Nội" loading="lazy">
            </div>
            <div class="specialty-content">
                <h2 class="specialty-title">Chuyên Khoa Nội</h2>
                <div class="content-wrapper">
                    <div class="specialty-text">
                        <p>
                            Phòng khám quy tụ các chuyên gia đến từ Bệnh viện FV với đa dạng chuyên môn sâu. Các lĩnh vực chuyên sâu bao gồm: Nội tổng quát với khám và điều trị các bệnh lý thông thường, Tim mạch chuyên chẩn đoán và điều trị các bệnh về tim mạch, Tim mạch can thiệp phụ trách tư vấn và theo dõi các ca bệnh phức tạp, và Nội tiết chuyển hóa chuyên sâu về đái tháo đường, rối loạn tuyến giáp và các bệnh chuyển hóa khác.
                        </p>
                    </div>
                    <div class="text-gradient"></div>
                    <div class="doctors-slider">
                        <h3>Đội ngũ bác sĩ:</h3>
                        <div class="doctors-wrapper">
                            <button class="slider-button prev" disabled>&lt;</button>
                            <div class="doctors-container">
                                <div class="doctors-track">
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor9.jpg" alt="BS. Đỗ Thành Long" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Đỗ Thành Long</div>
                                            <div class="doctor-title">Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor10.jpg" alt="BS. Nguyễn Anh Hoàng" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Nguyễn Anh Hoàng</div>
                                            <div class="doctor-title">Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor11.jpg" alt="BS. Đỗ Thành Long" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Đỗ Thành Long</div>
                                            <div class="doctor-title">Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                    <div class="doctor-card">
                                        <div class="doctor-avatar">
                                            <img src="image/doctor12.jpg" alt="BS. Nguyễn Anh Hoàng" loading="lazy">
                                        </div>
                                        <div class="doctor-info">
                                            <div class="doctor-name">BS. Nguyễn Anh Hoàng</div>
                                            <div class="doctor-title">Chuyên khoa 1</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="slider-button next">&gt;</button>
                            <div class="dots-container"></div>
                        </div>
                    </div>
                </div>
                <button class="expand-button">
                    <span class="expand-icon"></span>
                    <span class="button-text">Xem thêm thông tin</span>
                </button>
            </div>
        </div>
    </section>

    <script>
        // Hàm cập nhật chiều cao cho trang chính
        function updateParentHeight() {
            const height = document.documentElement.scrollHeight;
            window.parent.postMessage({ height: height }, '*');
        }

        // Hàm thay đổi ảnh tự động cho chuyên khoa
        function initializeImageSlider(specialtyImage) {
            const images = specialtyImage.querySelectorAll('img');
            let currentIndex = 0;

            function showImage(index) {
                images.forEach(img => img.classList.remove('active'));
                images[index].classList.add('active');
            }

            function nextImage() {
                currentIndex = (currentIndex + 1) % images.length;
                showImage(currentIndex);
            }

            // Tự động chuyển ảnh mỗi 3 giây
            let interval = setInterval(nextImage, 3000);

            // Dừng chuyển ảnh khi hover
            specialtyImage.addEventListener('mouseenter', () => clearInterval(interval));
            specialtyImage.addEventListener('mouseleave', () => interval = setInterval(nextImage, 3000));
        }

        // Khởi tạo slider bác sĩ
        function initializeDoctorSlider(slider) {
            const track = slider.querySelector('.doctors-track');
            const cards = track.querySelectorAll('.doctor-card');
            const prevButton = slider.querySelector('.slider-button.prev');
            const nextButton = slider.querySelector('.slider-button.next');
            const dotsContainer = slider.querySelector('.dots-container');

            let currentSlide = 0;
            let cardsPerView = getCardsPerView();
            let totalSlides = Math.ceil(cards.length / cardsPerView);

            // Tạo dots navigation
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                if (i === 0) dot.classList.add('active');
                dot.addEventListener('click', () => goToSlide(i));
                dotsContainer.appendChild(dot);
            }

            // Cập nhật nút prev/next
            function updateButtons() {
                prevButton.disabled = currentSlide === 0;
                nextButton.disabled = currentSlide === totalSlides - 1;
            }

            // Cập nhật dots
            function updateDots() {
                const dots = dotsContainer.querySelectorAll('.dot');
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }

            // Di chuyển đến slide cụ thể
            function goToSlide(index) {
                currentSlide = index;
                const offset = -(currentSlide * 100 / totalSlides);
                track.style.transform = `translateX(${offset}%)`;
                updateButtons();
                updateDots();
            }

            // Xử lý nút prev/next
            prevButton.addEventListener('click', () => {
                if (currentSlide > 0) goToSlide(currentSlide - 1);
            });

            nextButton.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) goToSlide(currentSlide + 1);
            });

            // Tính số cards hiển thị dựa trên viewport
function getCardsPerView() {
    if (window.innerWidth <= 480) return 1;  // Mobile: 1 card
    if (window.innerWidth <= 768) return 2;  // Tablet: 2 cards
    return 3;  // Desktop: 3 cards
}

            // Cập nhật layout khi resize
            window.addEventListener('resize', () => {
                const newCardsPerView = getCardsPerView();
                if (newCardsPerView !== cardsPerView) {
                    cardsPerView = newCardsPerView;
                    totalSlides = Math.ceil(cards.length / cardsPerView);
                    currentSlide = 0;
                    goToSlide(0);

                    // Cập nhật lại dots
                    dotsContainer.innerHTML = '';
                    for (let i = 0; i < totalSlides; i++) {
                        const dot = document.createElement('div');
                        dot.classList.add('dot');
                        if (i === 0) dot.classList.add('active');
                        dot.addEventListener('click', () => goToSlide(i));
                        dotsContainer.appendChild(dot);
                    }
                }
            });
        }

        // Xử lý expand/collapse nội dung
        function initializeExpandButtons() {
            document.querySelectorAll('.expand-button').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.closest('.specialty-content');
                    const text = content.querySelector('.specialty-text');
                    const doctorsSlider = content.querySelector('.doctors-slider');
                    const buttonText = button.querySelector('.button-text');
                    const expandIcon = button.querySelector('.expand-icon');
                    
                    text.classList.toggle('expanded');
                    doctorsSlider.classList.toggle('visible');
                    expandIcon.classList.toggle('expanded');
                    
                    buttonText.textContent = text.classList.contains('expanded') 
                        ? 'Thu gọn nội dung' 
                        : 'Xem thêm thông tin';
                    
                    if (text.classList.contains('expanded')) {
                        setTimeout(() => {
                            const specialty = button.closest('.specialty');
                            specialty.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        }, 300);
                    }

                    updateParentHeight();
                });
            });
        }



//============================================================================

// Hàm cập nhật chiều cao cho trang chính
function updateParentHeight() {
    const height = document.documentElement.scrollHeight;
    window.parent.postMessage({ height: height }, '*');
}

// Hàm thay đổi ảnh tự động cho chuyên khoa
function initializeImageSlider(specialtyImage) {
    const images = specialtyImage.querySelectorAll('img');
    let currentIndex = 0;

    function showImage(index) {
        images.forEach(img => img.classList.remove('active'));
        images[index].classList.add('active');
    }

    function nextImage() {
        currentIndex = (currentIndex + 1) % images.length;
        showImage(currentIndex);
    }

    let interval = setInterval(nextImage, 3000);
    specialtyImage.addEventListener('mouseenter', () => clearInterval(interval));
    specialtyImage.addEventListener('mouseleave', () => interval = setInterval(nextImage, 3000));
}

// Khởi tạo slider bác sĩ
function initializeDoctorSlider(slider) {
    const container = slider.querySelector('.doctors-container');
    const track = slider.querySelector('.doctors-track');
    const cards = track.querySelectorAll('.doctor-card');
    const prevButton = slider.querySelector('.slider-button.prev');
    const nextButton = slider.querySelector('.slider-button.next');
    const dotsContainer = slider.querySelector('.dots-container');

    let currentSlide = 0;
    let startX = 0;
    let scrollLeft = 0;
    let isDown = false;

    // Touch events for mobile
    container.addEventListener('touchstart', (e) => {
        isDown = true;
        container.style.cursor = 'grabbing';
        startX = e.touches[0].pageX - container.offsetLeft;
        scrollLeft = container.scrollLeft;
    });

    container.addEventListener('touchend', () => {
        isDown = false;
        container.style.cursor = 'grab';
        const slideWidth = container.clientWidth;
        const targetSlide = Math.round(container.scrollLeft / slideWidth);
        container.scrollTo({
            left: targetSlide * slideWidth,
            behavior: 'smooth'
        });
        updateDots(targetSlide);
    });

    container.addEventListener('touchmove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.touches[0].pageX - container.offsetLeft;
        const walk = (x - startX);
        container.scrollLeft = scrollLeft - walk;
    });

    // Scroll snap on desktop
    function updateDots(index) {
        const dots = dotsContainer.querySelectorAll('.dot');
        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });
        currentSlide = index;
    }

    function createDots() {
        dotsContainer.innerHTML = '';
        const totalSlides = window.innerWidth <= 480 ? 
            cards.length : 
            window.innerWidth <= 768 ? 
                Math.ceil(cards.length / 2) : 
                Math.ceil(cards.length / 3);

        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('div');
            dot.classList.add('dot');
            if (i === 0) dot.classList.add('active');
            dot.addEventListener('click', () => {
                const slideWidth = container.clientWidth;
                container.scrollTo({
                    left: i * slideWidth,
                    behavior: 'smooth'
                });
                updateDots(i);
            });
            dotsContainer.appendChild(dot);
        }
    }

    // Desktop controls
    if (prevButton && nextButton) {
        prevButton.addEventListener('click', () => {
            if (currentSlide > 0) {
                currentSlide--;
                container.scrollTo({
                    left: currentSlide * container.clientWidth,
                    behavior: 'smooth'
                });
                updateDots(currentSlide);
            }
        });

        nextButton.addEventListener('click', () => {
            const maxSlide = Math.ceil(cards.length / (window.innerWidth <= 768 ? 2 : 3)) - 1;
            if (currentSlide < maxSlide) {
                currentSlide++;
                container.scrollTo({
                    left: currentSlide * container.clientWidth,
                    behavior: 'smooth'
                });
                updateDots(currentSlide);
            }
        });
    }

    // Scroll event for dots update
    container.addEventListener('scroll', () => {
        const slideWidth = container.clientWidth;
        const targetSlide = Math.round(container.scrollLeft / slideWidth);
        updateDots(targetSlide);
    });

    // Initialize dots
    createDots();

    // Update on resize
    window.addEventListener('resize', createDots);
}

// Xử lý expand/collapse nội dung
function initializeExpandButtons() {
    document.querySelectorAll('.expand-button').forEach(button => {
        button.addEventListener('click', () => {
            const content = button.closest('.specialty-content');
            const text = content.querySelector('.specialty-text');
            const doctorsSlider = content.querySelector('.doctors-slider');
            const buttonText = button.querySelector('.button-text');
            const expandIcon = button.querySelector('.expand-icon');
            
            text.classList.toggle('expanded');
            doctorsSlider.classList.toggle('visible');
            expandIcon.classList.toggle('expanded');
            
            buttonText.textContent = text.classList.contains('expanded') 
                ? 'Thu gọn nội dung' 
                : 'Xem thêm thông tin';
            
            if (text.classList.contains('expanded')) {
                setTimeout(() => {
                    const specialty = button.closest('.specialty');
                    specialty.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 300);
            }

            updateParentHeight();
        });
    });
}

// Khởi tạo khi DOM đã load
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.specialty-image').forEach(initializeImageSlider);
    document.querySelectorAll('.doctors-slider').forEach(initializeDoctorSlider);
    initializeExpandButtons();
    updateParentHeight();
});

// Cập nhật khi tất cả resources đã load
window.addEventListener('load', updateParentHeight);

// Theo dõi thay đổi kích thước
new ResizeObserver(updateParentHeight).observe(document.body);

















    </script>
</body>
</html>





