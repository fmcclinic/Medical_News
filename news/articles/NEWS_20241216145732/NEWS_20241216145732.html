
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phòng ngừa ung thư cổ tử cung: - Tin Tức Y Khoa</title>
    
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=30xj8le1"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .article-category {
            display: inline-block;
            background: #0070c0;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 15px;
            line-height: 1.2;
            color: #333;
        }

        .article-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .reading-time {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 3px 8px;
            background: #f0f0f0;
            border-radius: 15px;
        }

        .featured-image {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .article-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .article-content p {
            margin-bottom: 15px;
            line-height: 1.8;
            padding: 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .article-content p.current {
            background: #f0f9ff;
            border-left: 3px solid #0070c0;
            padding-left: 15px;
        }

        .article-content img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            border-radius: 4px;
        }

         
        .speech-controls {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .speech-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .speech-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        .controls-container {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #0070c0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        #playButton {
            background: #0070c0;
        }

        #mp3Button {
            background: #28a745;
        }

        .control-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .control-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            min-width: 120px;
        }

        .progress-container {
            margin-top: 15px;
            background: #e9ecef;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #0070c0;
            width: 0;
            transition: width 0.3s;
        }

        .status {
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
            font-size: 0.9em;
        }

        .status.active {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status.reading {
            background: #e3f2fd;
            color: #0070c0;
            border-left: 4px solid #0070c0;
        }

        .status.paused {
            background: #fff3e0;
            color: #ef6c00;
            border-left: 4px solid #ef6c00;
        }

        .status.error {
            background: #ffebee;
            color: #c62828;
            border-left: 4px solid #c62828;
        }

         
        .audio-player {
            width: 100%;
            margin-top: 10px;
            display: none;
        }

        .audio-player.active {
            display: block;
        }

         
        .share-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .share-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: opacity 0.3s;
        }

        .share-button:hover {
            opacity: 0.9;
        }

        .share-button.facebook {
            background: #1877f2;
        }

        .share-button.twitter {
            background: #1da1f2;
        }

         
        .related-section {
            margin-top: 40px;
        }

        .related-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .related-article {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .related-article:hover {
            transform: translateY(-3px);
        }

        .related-article img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .related-article h3 {
            padding: 15px;
            margin: 0;
        }

        .related-article a {
            color: #333;
            text-decoration: none;
        }

        .related-article a:hover {
            color: #0070c0;
        }

        .related-article .date {
            display: block;
            padding: 0 15px 15px;
            color: #666;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.8em;
            }

            .article-meta {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls-container {
                flex-direction: column;
                align-items: stretch;
            }

            .related-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <span class="article-category">Sản Phụ Khoa</span>
        
        <h1>Phòng ngừa ung thư cổ tử cung:</h1>
        
        <div class="article-meta">
            <span>Đăng ngày 16/12/2024</span>
            <span class="reading-time">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                7 phút đọc
            </span>
        </div>

        <img src="https://thumbayuniversityhospital.com/wp-content/uploads/2021/07/papsmear.jpg" alt="Phòng ngừa ung thư cổ tử cung:" class="featured-image">

        <div class="article-content">
            <div class="speech-controls">
                <div class="speech-header">
                    <span class="speech-title">Nghe bài viết</span>
                </div>
                
                <div class="controls-container">
                    
                    <button id="mp3Button" class="control-button" style="display: none;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                            <line x1="12" y1="19" x2="12" y2="23"/>
                            <line x1="8" y1="23" x2="16" y2="23"/>
                        </svg>
                        Audio đã thu
                    </button>

                    
                    <button id="playButton" class="control-button" disabled>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        Đọc bài viết
                    </button>
                    
                    <div class="speed-control">
                        <select id="voiceSelect">
                            <option value="Vietnamese Female">Giọng Nữ</option>
                            <option value="Vietnamese Male">Giọng Nam</option>
                        </select>
                        <label for="rateSelect">Tốc độ đọc:</label>
                        <select id="rateSelect">
                            <option value="0.8">Chậm</option>
                            <option value="1" selected>Bình thường</option>
                            <option value="1.2">Nhanh</option>
                        </select>
                    </div>
                </div>

                
                <audio id="audioPlayer" class="audio-player">
                    <source id="audioSource" type="audio/mpeg">
                    Trình duyệt không hỗ trợ phát audio.
                </audio>

                <div class="progress-container">
                    <div id="progress" class="progress-bar"></div>
                </div>

                <div id="status" class="status">
                    <span id="statusText"></span>
                </div>
            </div>

            <p>Phòng ngừa ung thư cổ tử cung:</p><p><br></p><p>Cổ tử cung là phần dưới cùng của tử cung; nó mở vào âm đạo</p><p><br></p><p>Ung thư cổ tử cung xảy ra khi các tế bào bình thường ở cổ tử cung biến đổi thành tế bào bất thường và phát triển không kiểm soát.</p><p><br></p><p>Có hai loại ung thư cổ tử cung là “ung thư biểu mô tế bào vảy” và “ung thư biểu mô tuyến”.</p><p><br></p><p>Xét nghiệm tầm soát ung thư cổ tử cung:</p><p><br></p><p>Các xét nghiệm sàng lọc có thể phát hiện ung thư cổ tử cung và tiền ung thư ở giai đoạn đầu khi có thể điều trị được, do đó có thể làm giảm số lượng người mắc ung thư cổ tử cung cũng như số ca tử vong do căn bệnh này.</p><p><br></p><p>Có hai loại xét nghiệm sàng lọc ung thư cổ tử cung:</p><p><br></p><p>Xét nghiệm Papanicolaou hoặc “Pap” (đôi khi được gọi là “Pap smear”)</p><p>Xét nghiệm virus u nhú ở người hoặc “HPV”</p><p>Hoặc kết hợp cả hai bài kiểm tra</p><p><br></p><p>Các yếu tố rủi ro:</p><p><br></p><p>Yếu tố nguy cơ quan trọng nhất của ung thư cổ tử cung là nhiễm virus papilloma ở người (HPV).</p><p><br></p><p>Có hơn 100 loại HPV khác nhau; tuy nhiên, hầu hết các loại HPV không gây ung thư.</p><p><br></p><p>Ít nhất 80 phần trăm phụ nữ tiếp xúc với vi-rút HPV trong suốt cuộc đời. Hầu hết thời gian, hệ thống miễn dịch của cơ thể sẽ loại bỏ vi-rút trước khi nó gây hại.</p><p><br></p><p>Các loại HPV được chia thành nguy cơ cao và thấp gây ung thư cổ tử cung.</p><p><br></p><p>Các loại HPV nguy cơ thấp – Ví dụ, HPV loại 6 và 11 có thể gây ra mụn cóc sinh dục và là loại nguy cơ thấp vì chúng hiếm khi gây ra ung thư cổ tử cung.</p><p>Các loại HPV nguy cơ cao – Các loại HPV nguy cơ cao có thể gây ung thư cổ tử cung ở một số người.</p><p>Mặc dù hầu hết những người bị nhiễm các loại HPV nguy cơ cao không phát triển ung thư cổ tử cung, nhưng những người liên tục xét nghiệm dương tính với HPV nguy cơ cao có nguy cơ mắc ung thư cổ tử cung cao hơn.</p><p><br></p><p>HPV loại 16 và 18 là hai loại có nguy cơ cao.</p><p><br></p><p>Nhiễm trùng HPV xảy ra như thế nào?</p><p><br></p><p>HPV lây lan qua tiếp xúc da kề da trực tiếp, bao gồm quan hệ tình dục qua đường âm đạo, quan hệ tình dục bằng miệng, quan hệ tình dục qua đường hậu môn hoặc bất kỳ tiếp xúc nào khác liên quan đến vùng sinh dục (ví dụ: tiếp xúc từ tay đến bộ phận sinh dục).</p><p><br></p><p>Vì vậy, HPV lây truyền qua đường tình dục</p><p><br></p><p>Bao cao su chỉ có tác dụng bảo vệ một phần vì chúng không bao phủ toàn bộ vùng da ở bộ phận sinh dục.</p><p><br></p><p>Không thể bị nhiễm HPV khi chạm vào một vật nào đó, chẳng hạn như bệ ngồi bồn cầu.</p><p><br></p><p>Quá trình nhiễm HPV:</p><p><br></p><p>Hầu hết các trường hợp nhiễm HPV là tạm thời và sẽ khỏi trong vòng hai năm. Những người có hệ thống miễn dịch không thể loại bỏ được vi-rút (10-20%) có nguy cơ cao mắc tiền ung thư hoặc ung thư. Quá trình này thường mất nhiều năm.</p><p><br></p><p>Nguy cơ ung thư cổ tử cung tăng ở những người hút thuốc và những người mắc bệnh lý (hoặc đang dùng thuốc) làm suy yếu hệ miễn dịch.</p><p><br></p><p>Triệu chứng:</p><p><br></p><p>Hầu hết những người bị nhiễm HPV không có dấu hiệu hoặc triệu chứng.</p><p><br></p><p>Làm thế nào để giảm nguy cơ ung thư cổ tử cung?</p><p><br></p><p>Vắc-xin giúp ngăn ngừa nhiễm một số loại HPV có nguy cơ cao được khuyến nghị cho tất cả trẻ em từ 11 đến 12 tuổi, nhưng có thể tiêm sớm nhất là từ 9 tuổi. Vắc-xin "bù đắp" được khuyến nghị cho tất cả những người dưới 26 tuổi chưa tiêm vắc-xin này, nhưng có thể tiêm đến 45 tuổi.</p><p>Tầm soát ung thư cổ tử cung (kể cả những người đã tiêm vắc-xin)</p><p>Bỏ thuốc lá</p><p>Tầm soát ung thư cổ tử cung</p><p><br></p><p>1-Xét nghiệm Pap&nbsp;— Xét nghiệm Pap (đôi khi được gọi là “Pap smear”) là phương pháp kiểm tra các tế bào từ cổ tử cung. Một thuật ngữ khác của xét nghiệm Pap là “tế bào học cổ tử cung”.</p><p><br></p><p>Đối với xét nghiệm Pap, bác sĩ sẽ tiến hành kiểm tra vùng chậu bằng một thiết bị gọi là mỏ vịt để mở âm đạo. Sau đó, họ sẽ sử dụng một bàn chải nhỏ hoặc thìa để lấy tế bào từ cổ tử cung. Việc này có thể gây khó chịu nhưng thường không gây đau. Các tế bào được thêm vào một hộp đựng có chất lỏng bảo quản hoặc được bôi lên một phiến kính để kiểm tra.</p><p><br></p><p>2-Xét nghiệm HPV&nbsp;— Giống như xét nghiệm Pap, xét nghiệm vi-rút u nhú ở người (HPV) được thực hiện trong quá trình khám vùng chậu, sử dụng một chiếc chổi nhỏ để lấy mẫu từ cổ tử cung. Xét nghiệm HPV không xét nghiệm tất cả các loại HPV khác nhau. Chúng chỉ xét nghiệm các chủng HPV có nguy cơ cao gây ung thư cổ tử cung; kết quả dương tính cho thấy một hoặc nhiều chủng trong số này đã được tìm thấy. Đôi khi, phòng xét nghiệm sẽ báo cáo cụ thể nếu bạn mắc một trong hai loại HPV có nguy cơ cao nhất, được gọi là HPV 16 và HPV 18. Điều này được gọi là "xét nghiệm kiểu gen".</p><p><br></p><p>3-Xét nghiệm kết hợp&nbsp;— Bao gồm việc thực hiện xét nghiệm Pap và HPV cùng một lúc; còn được gọi là “xét nghiệm đồng thời”.</p><p><br></p><p>Xét nghiệm sàng lọc có thể được thực hiện bất cứ lúc nào trong chu kỳ kinh nguyệt của bạn. Tuy nhiên, không phải trong thời kỳ kinh nguyệt.</p><p><br></p><p>Ai nên được sàng lọc?</p><p><br></p><p>Mục tiêu là bắt đầu sàng lọc tại thời điểm mà lợi ích của việc sàng lọc có khả năng lớn hơn rủi ro.</p><p><br></p><p>Những người đã tiêm vắc-xin cũng nên được sàng lọc, vì vắc-xin có thể ngăn ngừa hầu hết các bệnh nhiễm HPV phổ biến nhưng không phải tất cả các bệnh nhiễm HPV.</p><p><br></p><p>Trước 21 tuổi:</p><p><br></p><p>Ở những người khỏe mạnh, việc sàng lọc không được khuyến khích</p><p><br></p><p>Tuổi từ 21 đến 29&nbsp;—</p><p><br></p><p>Có thể bắt đầu sàng lọc ở độ tuổi 25 cứ sau 3 năm bằng xét nghiệm Pap</p><p>Tuổi từ 30 đến 65</p><p><br></p><p>Xét nghiệm HPV chỉ (còn gọi là xét nghiệm HPV chính) năm năm một lần nếu tất cả kết quả đều bình thường</p><p>“Kiểm tra đồng thời” (cả xét nghiệm Pap và HPV) cứ năm năm một lần</p><p>Xét nghiệm Pap ba năm một lần nếu tất cả kết quả đều bình thường</p><p>Sau 65 tuổi&nbsp;— Hầu hết phụ nữ không có yếu tố nguy cơ có thể ngừng tầm soát ung thư cổ tử cung sau 65 tuổi</p><p><br></p><p>Những người đã thực hiện tất cả các xét nghiệm sàng lọc bình thường một cách thường xuyên trong quá khứ.</p><p>Những người có ít nhất ba xét nghiệm Pap liên tiếp cho kết quả bình thường hoặc hai xét nghiệm kết hợp bình thường (xét nghiệm Pap và HPV kết hợp) trong 10 năm qua, với xét nghiệm gần đây nhất được thực hiện trong vòng 5 năm qua.</p><p>Một số phụ nữ có yếu tố nguy cơ cần tiếp tục tầm soát ung thư cổ tử cung sau 65 tuổi nếu:</p><p><br></p><p>Họ có kết quả xét nghiệm Pap bất thường, xét nghiệm HPV bất thường hoặc điều trị ung thư hoặc tế bào tiền ung thư ở cổ tử cung, âm đạo, âm hộ hoặc hậu môn.</p><p>Họ bị nhiễm HIV hoặc mắc một tình trạng bệnh lý khác làm suy giảm hệ thống miễn dịch.</p><p>Họ đã tiếp xúc với diethylstilbestrol (DES) trong tử cung – DES là (một loại thuốc được dùng cho nhiều phụ nữ trước năm 1981 để ngăn ngừa biến chứng khi mang thai).</p><p>Sau khi cắt bỏ tử cung&nbsp;(phẫu thuật cắt bỏ tử cung và đôi khi là cổ tử cung)</p><p><br></p><p>Nếu cổ tử cung đã được cắt bỏ thì không cần phải sàng lọc thêm nữa.</p><p>Nếu không loại bỏ cevix (cần tuân theo hướng dẫn thông thường)</p>
            <div class="share-section">
                <div class="share-buttons">
                    <button onclick="shareOnFacebook()" class="share-button facebook">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg>
                        Chia sẻ Facebook
                    </button>
                    <button onclick="shareOnTwitter()" class="share-button twitter">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                        </svg>
                        Chia sẻ Twitter
                    </button>
                </div>
            </div>
        </div>

        <div class="related-section">
            <h2 class="related-title">Bài viết liên quan</h2>
            <div class="related-grid">
                
      <div class="related-article">
        <img src="https://marylandoncology.com/wp-content/uploads/2023/12/MOH-Feature-1.jpg" alt="Dinh dưỡng trong điều trị ung thư: Hướng dẫn toàn diện cho bệnh nhân và người chăm sóc">
        <h3>
          <a href="../../articles/NEWS_20241217200433/NEWS_20241217200433.html">Dinh dưỡng trong điều trị ung thư: Hướng dẫn toàn diện cho bệnh nhân và người chăm sóc</a>
        </h3>
        <span class="date">17/12/2024</span>
      </div>
    
      <div class="related-article">
        <img src="https://www.breastsurgeryireland.com/3d-images/inflammatory-breast-cancer.jpg" alt="Ung thư vú viêm">
        <h3>
          <a href="../../articles/NEWS_20241217182729/NEWS_20241217182729.html">Ung thư vú viêm</a>
        </h3>
        <span class="date">17/12/2024</span>
      </div>
    
      <div class="related-article">
        <img src="https://magazine.medlineplus.gov/images/uploads/main_images/caervicalcancer-hpv.jpg" alt="HPV và ung thư cổ tử cung: Những điều bạn cần biết">
        <h3>
          <a href="../../articles/NEWS_20241217144754/NEWS_20241217144754.html">HPV và ung thư cổ tử cung: Những điều bạn cần biết</a>
        </h3>
        <span class="date">17/12/2024</span>
      </div>
                </div>
        </div>
    </div>

    <script>
        
        const VOICE_CONFIG = {
            'Vietnamese Female': {
                name: 'Vietnamese Female',
                lang: 'vi-VN',
                voiceURI: 'Vietnamese Female',
                rate: 1,
                pitch: 1.1,
               volume: 1
           },
           'Vietnamese Male': {
               name: 'Vietnamese Male', 
               lang: 'vi-VN',
               voiceURI: 'Vietnamese Male',
               rate: 1,
               pitch: 0.9,
               volume: 1
           }
       };

       
       let isPlaying = false;
       let currentParagraphIndex = 0;
       let paragraphs = [];
       let ttsInitialized = false;
       let hasMP3 = false;

       
       if (typeof responsiveVoice !== 'undefined') {
           responsiveVoice.OnVoiceReady = function() {
               console.log('ResponsiveVoice sẵn sàng');
               initTTS();
               checkForMP3();
           };
       }

       
       function initTTS() {
           try {
               if (!responsiveVoice.voiceSupport()) {
                   throw new Error('Trình duyệt không hỗ trợ TTS');
               }

               setupElements();
               setupEventListeners();
               loadParagraphs();
               
               document.getElementById('playButton').disabled = false;
               ttsInitialized = true;
               
               console.log('TTS đã khởi tạo thành công');
               updateStatus('Sẵn sàng đọc');

           } catch (error) {
               showError('Không thể khởi tạo TTS: ' + error.message);
           }
       }

       
function checkForMP3() {
    const audio = document.createElement('audio');
    const mp3Path = getMP3Path();
    
    
    audio.addEventListener('canplaythrough', function() {
        hasMP3 = true;
        setupMP3Player(mp3Path);
    });

    audio.addEventListener('error', function() {
        console.log('Không tìm thấy file MP3');
        hasMP3 = false;
    });

    
    audio.src = mp3Path;
    audio.load();
}

function getMP3Path() {
    
    const pathParts = window.location.pathname.split('/');
    const newsId = pathParts[pathParts.length - 1].replace('.html', '');
    
    
    const mp3Path = `${newsId}.mp3`;
    
    return mp3Path;
}

       
       function setupMP3Player(mp3Path) {
    try {
        const mp3Button = document.getElementById('mp3Button');
        const audioPlayer = document.getElementById('audioPlayer');

        
        if (mp3Button && audioPlayer) {
            mp3Button.style.display = 'flex';
            audioPlayer.querySelector('source').src = mp3Path;
            audioPlayer.load();

            mp3Button.addEventListener('click', toggleMP3);
            audioPlayer.addEventListener('timeupdate', updateMP3Progress);
            audioPlayer.addEventListener('ended', resetMP3);
            
            console.log('Đã thiết lập MP3 Player');
        }
    } catch (error) {
        console.error('Lỗi thiết lập MP3 Player:', error);
    }
}

       
       function toggleMP3() {
           const audioPlayer = document.getElementById('audioPlayer');
           const mp3Button = document.getElementById('mp3Button');

           if (isPlaying) {
               stopReading(); 
           }

           if (audioPlayer.paused) {
               audioPlayer.play();
               mp3Button.innerHTML = `
                   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                       <rect x="6" y="4" width="4" height="16"></rect>
                       <rect x="14" y="4" width="4" height="16"></rect>
                   </svg>
                   Tạm dừng Audio`;
           } else {
               audioPlayer.pause();
               resetMP3();
           }
       }

       // Update MP3 Progress
       function updateMP3Progress() {
           const audioPlayer = document.getElementById('audioPlayer');
           const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
           document.getElementById('progress').style.width = progress + '%';
       }

       
       function resetMP3() {
           const mp3Button = document.getElementById('mp3Button');
           mp3Button.innerHTML = `
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                   <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                   <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                   <line x1="12" y1="19" x2="12" y2="23"/>
                   <line x1="8" y1="23" x2="16" y2="23"/>
               </svg>
               Audio đã thu`;
           document.getElementById('progress').style.width = '0%';
       }

       // Setup elements
       function setupElements() {
           const elements = ['playButton', 'voiceSelect', 'rateSelect', 'status', 'progress'];
           elements.forEach(id => {
               if (!document.getElementById(id)) {
                   throw new Error(`Thiếu element: ${id}`);
               }
           });
       }

       
       function setupEventListeners() {
           document.getElementById('playButton').addEventListener('click', toggleSpeech);
           document.getElementById('voiceSelect').addEventListener('change', handleVoiceChange);
           document.getElementById('rateSelect').addEventListener('change', handleRateChange);
       }

       
       function loadParagraphs() {
           paragraphs = Array.from(document.querySelectorAll('.article-content p'))
                           .map(p => p.textContent.trim())
                           .filter(text => text.length > 0);
           console.log(`Tìm thấy ${paragraphs.length} đoạn văn`);
       }

       
       function toggleSpeech() {
           if (!ttsInitialized) {
               showError('TTS chưa sẵn sàng');
               return;
           }

           if (!isPlaying) {
               startReading();
           } else {
               stopReading();
           }
       }

       
       function startReading() {
           isPlaying = true;
           currentParagraphIndex = 0;
           updateUI('reading');
           readNextParagraph();
       }

       
       function readNextParagraph() {
           if (currentParagraphIndex < paragraphs.length) {
               try {
                   const voiceName = document.getElementById('voiceSelect').value;
                   const voiceConfig = VOICE_CONFIG[voiceName];
                   const rate = parseFloat(document.getElementById('rateSelect').value);

                   updateProgress(((currentParagraphIndex + 1) / paragraphs.length) * 100);
                   highlightCurrentParagraph(true);

                   responsiveVoice.speak(
                       paragraphs[currentParagraphIndex],
                       voiceName,
                       {
                           pitch: voiceConfig.pitch,
                           rate: rate,
                           volume: voiceConfig.volume,
                           lang: voiceConfig.lang,
                           voiceURI: voiceConfig.voiceURI,
                           onstart: function() {
                               console.log(`Đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                               updateStatus(`Đang đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                           },
                           onend: function() {
                               highlightCurrentParagraph(false);
                               currentParagraphIndex++;
                               if (isPlaying) {
                                   setTimeout(readNextParagraph, 100);
                               }
                           }
                       }
                   );
               } catch (error) {
                   console.error('Error:', error);
                   showError(error.message);
                   stopReading();
               }
           } else {
               finishReading();
           }
       }

       
       function stopReading() {
           responsiveVoice.cancel();
           isPlaying = false;
           highlightCurrentParagraph(false);
           updateUI('paused');
       }

       
       function finishReading() {
           isPlaying = false;
           updateProgress(100);
           updateUI('finished');
           console.log('Hoàn thành đọc bài viết');
       }

       
       function handleVoiceChange() {
           if (isPlaying) {
               restartReading();
           }
       }

       
       function handleRateChange() {
           if (isPlaying) {
               restartReading();
           }
       }

       
       function restartReading() {
           stopReading();
           startReading();
       }

       
       function updateUI(state) {
           const button = document.getElementById('playButton');
           if (button) {
               button.innerHTML = isPlaying ? 
                   '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>Tạm dừng' :
                   '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Đọc bài viết';
           }
           updateStatus(state);
       }

       
       function updateStatus(message) {
           const statusText = document.getElementById('statusText');
           const status = document.getElementById('status');
           if (statusText && status) {
               statusText.textContent = typeof message === 'string' ? message : 
                   message === 'reading' ? 'Đang đọc...' :
                   message === 'paused' ? 'Đã tạm dừng' :
                   message === 'finished' ? 'Đã đọc xong' : '';
               status.className = 'status active ' + message;
           }
       }

       
       function updateProgress(percent) {
           const progress = document.getElementById('progress');
           if (progress) {
               progress.style.width = percent + '%';
           }
       }

       
       function highlightCurrentParagraph(isHighlight) {
           const paragraphElements = document.querySelectorAll('.article-content p');
           paragraphElements.forEach(p => p.classList.remove('current'));
           
           if (isHighlight && paragraphElements[currentParagraphIndex]) {
               paragraphElements[currentParagraphIndex].classList.add('current');
               paragraphElements[currentParagraphIndex].scrollIntoView({
                   behavior: 'smooth',
                   block: 'center'
               });
           }
       }

       
       function showError(message) {
           console.error(message);
           updateStatus('error');
           const statusText = document.getElementById('statusText');
           if (statusText) {
               statusText.textContent = message;
           }
       }

       
       function shareOnFacebook() {
           const url = window.location.href;
           window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(url));
       }

       function shareOnTwitter() {
           const url = window.location.href;
           const title = document.title;
           window.open('https://twitter.com/intent/tweet?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(title));
       }

       
       function updateParentHeight() {
           const height = document.documentElement.scrollHeight;
           window.parent.postMessage({ height: height }, '*');
       }

       
       document.addEventListener('DOMContentLoaded', function() {
           updateParentHeight();
       });

       
       new ResizeObserver(updateParentHeight).observe(document.body);
   </script>
</body>
</html>