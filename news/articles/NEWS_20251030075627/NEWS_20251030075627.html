<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thoái hóa khớp gối - Tin Tức Y Khoa</title>
    
<script src="https://code.responsivevoice.org/responsivevoice.js?key=30xj8le1"></script>
        
  <script>
function waitForResponsiveVoice() {
    return new Promise((resolve, reject) => {
        let attempts = 0;
        const checkResponsiveVoice = setInterval(() => {
            attempts++;
            if (window.responsiveVoice && window.responsiveVoice.voiceSupport()) {
                clearInterval(checkResponsiveVoice);
                resolve();
            } else if (attempts > 50) { 
                clearInterval(checkResponsiveVoice);
                reject(new Error('ResponsiveVoice không load được'));
            }
        }, 100);
    });
}
    </script>


        <style>
         
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

         
        .article-category {
            display: inline-block;
            background: #0070c0;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .article-title {
            font-size: 2em;
            margin-bottom: 15px;
            line-height: 1.2;
            color: #333;
            padding: 10px;
        }

        .article-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .reading-time {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 3px 8px;
            background: #f0f0f0;
            border-radius: 15px;
        }

         
        .article-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .featured-image {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .article-content p {
            margin-bottom: 15px;
            line-height: 1.8;
            padding: 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .article-content p.current,
        .article-title.current {
            background: #f0f9ff;
            border-left: 3px solid #0070c0;
            padding-left: 15px;
        }

         
        .speech-controls {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .speech-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .speech-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        .controls-container {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #0070c0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .control-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .control-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            min-width: 120px;
        }

        .progress-container {
            margin-top: 15px;
            background: #e9ecef;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #0070c0;
            width: 0;
            transition: width 0.3s;
        }

        .status {
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
        }

        .status.active {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status.reading {
            background: #e3f2fd;
            color: #0070c0;
            border-left: 4px solid #0070c0;
        }

        .status.paused {
            background: #fff3e0;
            color: #ef6c00;
            border-left: 4px solid #ef6c00;
        }

        .status.error {
            background: #ffebee;
            color: #c62828;
            border-left: 4px solid #c62828;
        }

         
        .related-section {
            margin-top: 40px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .related-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .related-article {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .related-article:hover {
            transform: translateY(-3px);
        }

        .related-article img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .related-article h3 {
            padding: 15px;
            margin: 0;
            flex: 1;
        }

        .related-article a {
            color: #333;
            text-decoration: none;
        }

        .related-article a:hover {
            color: #0070c0;
        }

        .related-article .date {
            display: block;
            padding: 0 15px 15px;
            color: #666;
            font-size: 0.9em;
        }

         
        .share-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
        }

        .share-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: opacity 0.3s;
        }

        .share-button:hover {
            opacity: 0.9;
        }

        .share-button.facebook {
            background: #1877f2;
        }

        .share-button.twitter {
            background: #1da1f2;
        }

         
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .article-title {
                font-size: 1.8em;
            }

            .article-meta {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls-container {
                flex-direction: column;
                align-items: stretch;
            }

            .related-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <span class="article-category">Khoa Cơ Xương Khớp</span>
        
        <h1 class="article-title">Thoái hóa khớp gối</h1>
        
        <div class="article-meta">
            <span>Đăng ngày 30/10/2025</span>
            <span class="reading-time">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                8 phút đọc
            </span>
        </div>

        <img src="https://www.mgs.physio/app/uploads/2023/10/knee-osteoarthritis-and-how-to-avoid-surgery-2048x1368.jpg" alt="Thoái hóa khớp gối" class="featured-image">

        <div class="article-content">



<div class="speech-controls">
    <div class="speech-header">
        <span class="speech-title">Nghe bài viết</span>
    </div>
    
    <div class="controls-container">
        
        <button id="mp3Button" class="control-button" onclick="toggleMP3()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
            </svg>
            <span>Audio đã thu</span>
        </button>

        
        <button id="playButton" class="control-button">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <span>Đọc bài viết</span>
        </button>
        
        
        <div class="speed-control">
            <select id="voiceSelect">
                <option value="Vietnamese Female">Giọng Nữ</option>
                <option value="Vietnamese Male">Giọng Nam</option>
            </select>
            <select id="rateSelect">
                <option value="0.8">Chậm</option>
                <option value="1" selected>Bình thường</option>
                <option value="1.2">Nhanh</option>
            </select>
        </div>
    </div>

    
    <audio id="mp3Player" class="audio-player" controls style="width: 100%; margin-top: 10px; display: none;">
        <source id="mp3Source" type="audio/mpeg">
        Trình duyệt không hỗ trợ phát audio.
    </audio>

    <div class="progress-container">
        <div id="progress" class="progress-bar"></div>
    </div>

    <div id="status" class="status">
        <span id="statusText"></span>
    </div>
</div>


            <p>Thoái hóa khớp không còn được coi là một bệnh lý chỉ tập trung vào sụn khớp hay là một bệnh hao mòn (wear-and-tear disease). Thay vào đó, bệnh này ảnh hưởng đến toàn bộ khớp gối, bao gồm sụn khớp, xương dưới sụn, màng hoạt dịch, sụn chêm, dây chằng, cơ và các đệm mỡ xung quanh.</p><p><br></p><p><strong>Thoái Hóa Khớp Gối: Định Nghĩa, Bản Chất và Chiến Lược Điều Trị</strong></p><p>Thoái hóa khớp gối (hay còn gọi là bệnh khớp thoái hóa) là một bệnh lý thoái hóa mạn tính rất phổ biến, gây ra các chi phí đáng kể cho hệ thống y tế. Thoái hóa khớp gối là một trong ba nguyên nhân phổ biến nhất gây đau đầu gối trên toàn cầu.</p><p><strong>I. Định Nghĩa và Bản Chất Bệnh</strong></p><p>Bệnh thoái hóa khớp được mô tả là một rối loạn khớp mạn tính, biểu hiện bằng <strong>sự thất bại về cấu trúc và chức năng của các khớp hoạt dịch</strong>.</p><p>• <strong>Tính chất Toàn thể:</strong> Thoái hóa khớp không còn được coi là bệnh chỉ tập trung vào sụn khớp hay là một căn bệnh do hao mòn đơn thuần. Thay vào đó, nó ảnh hưởng đến toàn bộ khớp gối.</p><p>• <strong>Các thành phần bị ảnh hưởng</strong> bao gồm sụn khớp, xương dưới sụn, màng hoạt dịch, sụn chêm, dây chằng, cơ xung quanh và các đệm mỡ.</p><p>• <strong>Quá trình Bệnh lý:</strong> Trong thoái hóa khớp, trước hết xảy ra sự bào mòn sụn khớp và sự tham gia của xương dưới sụn, dẫn đến viêm các mô xung quanh. Sự phá hủy sụn khớp là dấu hiệu nổi bật của bệnh.</p><p>• <strong>Thay đổi Sụn khớp:</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Trong thoái hóa khớp, sụn khớp có hàm lượng nước tăng lên, cấu trúc collagen bị rối loạn, và lượng proteoglycan giảm.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Độ đàn hồi của sụn khớp giảm.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Các enzyme như metalloprotease ngoại bào, stromelysin, plasmin, aggrecanase-1 (ADAMTS-4), collagenase và gelatinase chịu trách nhiệm cho sự thoái hóa chất nền sụn khớp. Hoạt động của các enzyme này được kiểm soát bởi các chất ức chế như TIMP-1, TIMP-2 và alpha-2-macroglobulin.</p><p><strong>Phân Loại Bệnh Thoái Hóa Khớp Gối:</strong></p><p>Thoái hóa khớp gối được chia thành hai loại chính:</p><p>1. <strong>Thoái hóa khớp nguyên phát:</strong> Là thoái hóa khớp không có nguyên nhân cơ bản rõ ràng, thường do lão hóa.</p><p>2. <strong>Thoái hóa khớp thứ phát:</strong> Là hậu quả của một nguyên nhân đã biết, chẳng hạn như chấn thương sau phẫu thuật, viêm khớp dạng thấp, hoặc các bệnh chuyển hóa khác.</p><p><strong>II. Dịch Tễ Học và Yếu Tố Nguy Cơ</strong></p><p>• <strong>Tỷ lệ hiện mắc:</strong> Thoái hóa khớp gối là một vấn đề sức khỏe cộng đồng lớn. Khoảng <strong>23% người lớn trên 40 tuổi</strong>, tương đương với 654 triệu người, mắc thoái hóa khớp.</p><p>• <strong>Xu hướng:</strong> Tỷ lệ thoái hóa khớp gối dự kiến sẽ tăng lên do tuổi thọ tăng và tỷ lệ béo phì gia tăng trong xã hội.</p><p>• <strong>Yếu tố Nguy cơ:</strong> Tuổi tác là yếu tố nguy cơ chính. Bệnh thoái hóa khớp gối phổ biến hơn ở nữ giới so với nam giới. Thừa cân/béo phì, lối sống ít vận động, căng thẳng cơ học và chấn thương trước đó cũng là các yếu tố nguy cơ.</p><p><strong>III. Biểu Hiện Lâm Sàng</strong></p><p>• <strong>Đau:</strong> Đau là lý do hàng đầu khiến bệnh nhân đi khám và là nguyên nhân lớn gây sử dụng dịch vụ y tế.</p><p>• <strong>Đặc điểm Đau:</strong> Đau gối thường liên quan đến hoạt động và/hoặc hạn chế chức năng. Cơn đau có thể tăng lên khi ngồi hoặc nghỉ ngơi lâu, hoặc khi uốn cong hay lên xuống cầu thang lặp đi lặp lại.</p><p>• <strong>Các dấu hiệu khác:</strong> Bệnh nhân thường biểu hiện cứng khớp buổi sáng ngắn (thời gian cứng khớp dưới 30 phút), sưng tấy, giảm phạm vi chuyển động, và khớp bị khóa hoặc lỏng lẻo. Có thể nghe thấy tiếng <strong>lạo xạo</strong> (crepitus) khi cử động.</p><p><strong>IV. Chẩn Đoán</strong></p><p>Chẩn đoán thoái hóa khớp gối chủ yếu dựa vào tiền sử bệnh nhân và khám thực thể.</p><p>• <strong>Tiêu chuẩn chẩn đoán theo Trường môn học Thấp khớp Hoa Kỳ:</strong> Dựa trên sự kết hợp của <strong>đau gối</strong> với tuổi trên 50, cứng khớp dưới 30 phút, có tiếng lạo xạo, và có gai xương.</p><p>• <strong>Chẩn đoán Hình ảnh:</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Chụp X-quang thường <strong>không bắt buộc</strong> cho chẩn đoán thoái hóa khớp gối.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Tuy nhiên, X-quang có thể được chỉ định nếu bệnh có biểu hiện không điển hình (ví dụ: đau dữ dội, cứng khớp kéo dài) hoặc khi nghi ngờ có chẩn đoán khác.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ <strong>Phân loại Kellgren-Lawrence</strong> được dùng để đánh giá thoái hóa khớp gối qua hình ảnh X-quang, với các cấp độ từ 0 đến 4:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▪ Độ 0: Không có dấu hiệu thoái hóa khớp trên X-quang.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▪ Độ 1: Có thể có hẹp khe khớp và dấu hiệu gợi ý gai xương.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▪ Độ 4: Có gai xương lớn, hẹp khe khớp đáng kể, xơ cứng đáng kể, và chắc chắn có biến dạng đầu xương.</p><p>• <strong>Công cụ đánh giá:</strong> Chỉ số viêm khớp của Đại học Tây Ontario và McMaster (Western Ontario and McMaster Universities Arthritis Index) là một bảng câu hỏi tiêu chuẩn hóa, có thể được sử dụng để đánh giá sự tiến triển của thoái hóa khớp chi dưới, gồm 24 câu hỏi chia thành ba phần để kiểm tra mức độ đau, cứng khớp và hạn chế chức năng của khớp.</p><p><strong>V. Quản Lý và Điều Trị</strong></p><p>Mục tiêu điều trị thoái hóa khớp là giảm nhẹ triệu chứng, cải thiện chức năng của khớp bị ảnh hưởng, và ngăn chặn sự phát triển của bệnh.</p><p><strong>1. Điều trị Bảo tồn (Không phẫu thuật) – Phương pháp Hàng đầu:</strong></p><p>Phương pháp điều trị hàng đầu bao gồm quản lý bảo tồn, tập trung vào <strong>tập thể dục</strong>, <strong>giáo dục bệnh nhân</strong>, và <strong>tự quản lý</strong>.</p><p>• <strong>Giảm cân:</strong> Giảm cân là một thành phần thiết yếu của phác đồ điều trị thoái hóa khớp gối. Việc giảm từ 5% đến 10% trọng lượng cơ thể giúp giảm đau và cải thiện chức năng.</p><p>• <strong>Tập thể dục:</strong> Tập thể dục kết hợp với giáo dục bệnh nhân mang lại sự giảm đau và cải thiện chức năng có ý nghĩa lâm sàng. Tập thể dục trên mặt đất (land-based exercise) có hiệu quả giảm đau và cải thiện chức năng ở mức độ vừa đến cao.</p><p>• <strong>Thuốc:</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ <strong>Thuốc chống viêm không steroid tại chỗ</strong> được coi là lựa chọn hàng đầu trong điều trị bằng thuốc cho thoái hóa khớp gối.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ <strong>Thuốc chống viêm không steroid dạng uống</strong> được sử dụng để giảm triệu chứng. Naproxen được xếp hạng là phương pháp điều trị không phẫu thuật hiệu quả nhất để kiểm soát đau và cải thiện chức năng.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ <strong>Paracetamol (Acetaminophen)</strong> chỉ được khuyến cáo có điều kiện theo hướng dẫn năm 2019 của Trường môn học Thấp khớp Hoa Kỳ, dựa trên độc tính và hiệu quả hạn chế.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Nhiều hướng dẫn không khuyến nghị sử dụng <strong>glucosamine sulfate và chondroitin sulfate</strong> vì phần lớn các nghiên cứu không được tài trợ không tìm thấy chúng làm giảm đau và suy giảm chức năng.</p><p><strong>2. Tiêm Nội Khớp:</strong></p><p>• <strong>Corticosteroid:</strong> Tiêm glucocorticoid nội khớp có thể mang lại lợi ích giảm đau ngắn hạn. Tuy nhiên, việc sử dụng các thuốc này thường xuyên hơn có thể dẫn đến <strong>mất sụn khớp nhanh hơn</strong>.</p><p>• <strong>Axit Hyaluronic (Chất bổ sung độ nhớt):</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Việc tiêm nội khớp được Cục Quản lý Thực phẩm và Dược phẩm Hoa Kỳ chấp thuận để giảm đau ở những bệnh nhân thoái hóa khớp gối nhẹ đến trung bình không đáp ứng với các biện pháp bảo tồn khác.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Tuy nhiên, một số hướng dẫn (bao gồm Trường môn học Thấp khớp Hoa Kỳ) chống chỉ định có điều kiện đối với việc sử dụng chất bổ sung độ nhớt.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Các tác dụng phụ phổ biến bao gồm đau tại chỗ tiêm, đau cơ, khó đi lại, sốt, ớn lạnh và đau đầu.</p><p>• <strong>Huyết tương giàu tiểu cầu (Platelet-Rich Plasma):</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Huyết tương giàu tiểu cầu và Axit Hyaluronic đều được coi là phương pháp điều trị không phẫu thuật cho thoái hóa khớp gối.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;◦ Một nghiên cứu tổng hợp mạng lưới đã so sánh hiệu quả của Huyết tương giàu tiểu cầu so với Axit Hyaluronic trong điều trị thoái hóa khớp gối và kết luận rằng Huyết tương giàu tiểu cầu <strong>hiệu quả hơn</strong>. Kết quả phân tích tổng hợp này cho thấy Huyết tương giàu tiểu cầu hiệu quả hơn Axit Hyaluronic hai năm sau khi tiêm.</p><p><strong>3. Điều trị Phẫu thuật:</strong></p><p>• <strong>Thay khớp gối toàn phần (Total Knee Arthroplasty):</strong> Được khuyến nghị cho thoái hóa khớp giai đoạn cuối khi các phương pháp điều trị bảo tồn thất bại trong việc kiểm soát đau và mất chức năng nghiêm trọng. Phẫu thuật này mang lại lợi ích giảm đau, cải thiện khả năng vận động, và khả năng thực hiện các hoạt động hàng ngày.</p><p>• <strong>Thay khớp gối bán phần (Unicompartmental Arthroplasty):</strong> Là một lựa chọn thay thế cho thay khớp gối toàn phần đối với thoái hóa khớp gối một ngăn (thường là ngăn giữa). Ưu điểm bao gồm vết mổ nhỏ hơn, phục hồi sau mổ nhanh hơn, ít mất máu hơn, ít biến chứng hơn và thời gian nằm viện ngắn hơn so với thay khớp gối toàn phần.</p><p>• <strong>Nguy cơ Phẫu thuật:</strong> Các nguy cơ liên quan đến bất kỳ phẫu thuật nào, bao gồm thay khớp gối, bao gồm nhiễm trùng, cục máu đông, bầm tím, tổn thương thần kinh, hoặc lỏng lẻo vật liệu cấy ghép.</p><p><br></p>
            <div class="share-section">
                <div class="share-buttons">
                    <button onclick="shareOnFacebook()" class="share-button facebook">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg>
                        Chia sẻ Facebook
                    </button>
                    <button onclick="shareOnTwitter()" class="share-button twitter">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                        </svg>
                        Chia sẻ Twitter
                    </button>
                </div>
            </div>
        </div>

        <div class="related-section">
            <h2 class="related-title">Bài viết liên quan</h2>
            <div class="related-grid">
                
        <div class="related-article">
          <a href="../NEWS_20251031081906/NEWS_20251031081906.html">
            <img src="https://github.com/fmcclinic/Medical_News/blob/main/news/image/What%20will%20the%20doctor%20do%20to%20diagnose%20knee%20osteoarthritis.gif?raw=true" alt="Bác sĩ sẽ làm gì để Chẩn đoán Thoái hóa khớp gối ">
          </a>
          <h3>
            <a href="../NEWS_20251031081906/NEWS_20251031081906.html">Bác sĩ sẽ làm gì để Chẩn đoán Thoái hóa khớp gối </a>
          </h3>
          <span class="date">31/10/2025</span>
        </div>
      
        <div class="related-article">
          <a href="../NEWS_20251030171907/NEWS_20251030171907.html">
            <img src="https://github.com/fmcclinic/Medical_News/blob/main/news/image/Tho%C3%A1i-h%C3%B3a-kh%E1%BB%9Bp-g%E1%BB%91i.gif?raw=true" alt=" Điều Trị  Thoái hóa khớp gối">
          </a>
          <h3>
            <a href="../NEWS_20251030171907/NEWS_20251030171907.html"> Điều Trị  Thoái hóa khớp gối</a>
          </h3>
          <span class="date">30/10/2025</span>
        </div>
                  </div>
        </div>
    </div>

<script>

let currentMP3File = null;
let audioPreviewUrl = null;
let isPlaying = false;
let isTTSPlaying = false;
let isMP3Playing = false;
let ttsInitialized = false;
let currentParagraphIndex = 0;
let paragraphs = [];


const TTS_CONFIG = {
    VOICE_OPTIONS: {
        'Vietnamese Female': {
            name: 'Vietnamese Female',
            lang: 'vi-VN',
            rate: 1,
            pitch: 1.1,
            volume: 1
        },
        'Vietnamese Male': {
            name: 'Vietnamese Male',
            lang: 'vi-VN',
            rate: 1,
            pitch: 0.9,
            volume: 1
        }
    },
    PAUSE_BETWEEN: 500 
};


document.addEventListener('DOMContentLoaded', function() {
    
    if (typeof responsiveVoice !== 'undefined') {
        responsiveVoice.OnVoiceReady = function() {
            console.log('ResponsiveVoice sẵn sàng');
            initTTS();
            setupMP3EventListeners();
        };
    }

    
    window.scrollTo(0, 0);
    updateParentHeight();
});


new ResizeObserver(updateParentHeight).observe(document.body);


function initTTS() {
    console.log('Đang khởi tạo TTS');
    try {
        if (!responsiveVoice.voiceSupport()) {
            throw new Error('Trình duyệt không hỗ trợ TTS');
        }

        setupElements();
        loadContentToRead();
        setupEventListeners();
        
        const playButton = document.getElementById('playButton');
        if (playButton) {
            playButton.disabled = false;
        }
        
        ttsInitialized = true;
        console.log('TTS đã khởi tạo thành công');
        updateStatus('Sẵn sàng đọc');

    } catch (error) {
        console.error('Lỗi khởi tạo TTS:', error);
        showError(error.message);
    }
}


function setupElements() {
    const elements = ['playButton', 'voiceSelect', 'rateSelect', 'status', 'progress'];
    elements.forEach(id => {
        if (!document.getElementById(id)) {
            throw new Error(`Thiếu element: ${id}`);
        }
    });
}


function loadContentToRead() {
    const title = document.querySelector('.article-title');
    const contentElements = document.querySelectorAll('.article-content p, .article-content div > p, .article-content ul > li, .article-content ol > li');
    
    console.log('Title element:', title);
    console.log('Content elements:', contentElements);

    paragraphs = [];

    
    if (title) {
        paragraphs.push({
            element: title,
            text: title.textContent.trim()
        });
    }

    
    contentElements.forEach(element => {
        const text = element.textContent.trim();
        if (text.length > 0) {
            paragraphs.push({
                element: element,
                text: text
            });
        }
    });

    console.log('Total paragraphs loaded:', paragraphs.length);
    console.log('Paragraphs content:', paragraphs.map(p => p.text));
}


function setupEventListeners() {
    console.log('Setting up event listeners');

    
    const playButton = document.getElementById('playButton');
    const voiceSelect = document.getElementById('voiceSelect');
    const rateSelect = document.getElementById('rateSelect');
    const mp3Button = document.getElementById('mp3Button');

    if (playButton) {
        playButton.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('TTS button clicked');
            toggleSpeech();
        });
    }

    if (voiceSelect) {
        voiceSelect.addEventListener('change', handleVoiceChange);
    }

    if (rateSelect) {
        rateSelect.addEventListener('change', handleRateChange);
    }

    if (mp3Button) {
        mp3Button.addEventListener('click', toggleMP3);
    }

    console.log('Event listeners setup complete');
}


function toggleMP3() {
    console.log('toggleMP3 called');

    const mp3Player = document.getElementById('mp3Player');
    const mp3Button = document.getElementById('mp3Button');

    console.log('MP3 Player:', mp3Player);
    console.log('MP3 Button:', mp3Button);
    console.log('Current MP3 state - paused:', mp3Player?.paused);

    if (!mp3Player || !mp3Button) {
        console.error('MP3 elements not found');
        return;
    }

    
    const pathParts = window.location.pathname.split('/');
    const newsId = pathParts[pathParts.length - 1].replace('.html', '');
    
    
    const mp3Path = `${newsId}.mp3`;

    console.log('MP3 Path:', mp3Path);

    
    const mp3Source = mp3Player.querySelector('source');
    if (!mp3Source?.src) {
        console.log('Setting MP3 source to:', mp3Path);
        mp3Source.src = mp3Path;
    }

    
    console.log('Current source:', mp3Source.src);

    
    mp3Player.style.display = 'block';

    if (mp3Player.paused) {
        console.log('Attempting to play MP3...');
        
        
        mp3Player.load();
        
        mp3Player.addEventListener('loadeddata', function onLoad() {
            console.log('MP3 loaded, attempting to play');
            mp3Player.removeEventListener('loadeddata', onLoad);
            
            
            mp3Player.play()
                .then(() => {
                    console.log('MP3 playing successfully');
                    isMP3Playing = true;
                    mp3Button.innerHTML = `
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                        <span>Tạm dừng</span>`;
                })
                .catch(error => {
                    console.error('Error playing MP3:', error);
                    isMP3Playing = false;
                });
        });
    } else {
        console.log('Pausing MP3...');
        mp3Player.pause();
        isMP3Playing = false;
        mp3Button.innerHTML = `
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
            </svg>
            <span>Audio đã thu</span>`;
    }
}




function checkMP3Source() {
   const mp3Player = document.getElementById('mp3Player');
   const source = document.getElementById('mp3Source');
   const mp3Button = document.getElementById('mp3Button');
   
   console.log('Checking MP3 source elements:');
   console.log('Audio element:', mp3Player);
   console.log('Source element:', source);
   console.log('Button element:', mp3Button);
   
   if (mp3Player && source) {
       console.log('Current source:', source.src);
       console.log('Audio ready state:', mp3Player.readyState);
       console.log('Audio paused state:', mp3Player.paused);
       console.log('Audio current time:', mp3Player.currentTime);
       console.log('Audio duration:', mp3Player.duration);

       
       const isValidSource = source.src && source.src.length > 0;
       console.log('Is valid source:', isValidSource);

       
       if (isValidSource) {
           const testAudio = new Audio();
           testAudio.src = source.src;
           
           testAudio.addEventListener('loadedmetadata', () => {
               console.log('MP3 file is accessible');
               mp3Button.disabled = false;
           });

           testAudio.addEventListener('error', () => {
               console.error('Error loading MP3 file');
               mp3Button.disabled = true;
               showError('Không thể tải file MP3');
           });
       } else {
           console.log('No MP3 source set');
           mp3Button.disabled = true;
       }

       
       const events = mp3Player.eventNames?.() || [];
       console.log('Bound events:', events);

       return {
           hasSource: isValidSource,
           readyState: mp3Player.readyState,
           isPaused: mp3Player.paused,
           currentTime: mp3Player.currentTime,
           duration: mp3Player.duration
       };
   } else {
       console.error('Required MP3 elements not found');
       return null;
   }
}


function setupMP3EventListeners() {
    const mp3Player = document.getElementById('mp3Player');
    const mp3Button = document.getElementById('mp3Button');

    if (mp3Player && mp3Button) {
        mp3Player.addEventListener('ended', function() {
            isMP3Playing = false;
            mp3Button.innerHTML = `
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                </svg>
                <span>Audio đã thu</span>`;
        });
    }
}


function toggleSpeech() {
    console.log('toggleSpeech called, ttsInitialized:', ttsInitialized);
    console.log('isPlaying:', isPlaying);

    
    if (isMP3Playing) {
        const mp3Player = document.getElementById('mp3Player');
        const mp3Button = document.getElementById('mp3Button');
        
        mp3Player.pause();
        isMP3Playing = false;
        if (mp3Button) {
            mp3Button.innerHTML = `
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                </svg>
                <span>Audio đã thu</span>`;
        }
    }

    if (!ttsInitialized) {
        showError('TTS chưa sẵn sàng');
        return;
    }

    if (!isPlaying) {
        startReading();
        isTTSPlaying = true;
    } else {
        stopReading();
        isTTSPlaying = false;
    }
}

function startReading() {
    console.log('Starting reading');
    isPlaying = true;
    currentParagraphIndex = 0;
    updateUI('reading');
    readNextParagraph();
}


function readNextParagraph() {
    console.log('Reading paragraph:', currentParagraphIndex + 1, 'of', paragraphs.length);
    console.log('isPlaying status:', isPlaying);

    if (currentParagraphIndex < paragraphs.length) {
        try {
            const voiceName = document.getElementById('voiceSelect').value;
            const rate = parseFloat(document.getElementById('rateSelect').value);
            const voiceConfig = TTS_CONFIG.VOICE_OPTIONS[voiceName];

            updateProgress(((currentParagraphIndex + 1) / paragraphs.length) * 100);
            highlightParagraph(currentParagraphIndex);

            console.log('Current text:', paragraphs[currentParagraphIndex].text);

            responsiveVoice.speak(
                paragraphs[currentParagraphIndex].text,
                voiceName,
                {
                    pitch: voiceConfig.pitch,
                    rate: rate,
                    volume: voiceConfig.volume,
                    lang: voiceConfig.lang,
                    onstart: function() {
                        console.log(`Bắt đầu đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                        updateStatus(`Đang đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                    },
                    onend: function() {
                        console.log(`Kết thúc đọc đoạn ${currentParagraphIndex + 1}`);
                        unhighlightParagraph(currentParagraphIndex);
                        currentParagraphIndex++;

                        
                        if (isPlaying && currentParagraphIndex < paragraphs.length) {
                            console.log('Moving to next paragraph after delay');
                            setTimeout(readNextParagraph, TTS_CONFIG.PAUSE_BETWEEN);
                        } else if (currentParagraphIndex >= paragraphs.length) {
                            console.log('Reached end of content');
                            finishReading();
                        }
                    }
                }
            );
        } catch (error) {
            console.error('Error reading paragraph:', error);
            showError(error.message);
            stopReading();
        }
    } else {
        console.log('No more paragraphs to read');
        finishReading();
    }
}


function stopReading() {
    console.log('Stopping reading');
    responsiveVoice.cancel();
    isPlaying = false;
    isTTSPlaying = false;
    unhighlightAll();
    updateUI('paused');
}


function finishReading() {
    console.log('Finishing reading');
    isPlaying = false;
    isTTSPlaying = false;
    updateProgress(100);
    updateUI('finished');
    unhighlightAll();
}


function highlightParagraph(index) {
    if (paragraphs[index]) {
        paragraphs[index].element.classList.add('current');
        scrollToParagraph(paragraphs[index].element);
    }
}


function unhighlightParagraph(index) {
    if (paragraphs[index]) {
        paragraphs[index].element.classList.remove('current');
    }
}


function unhighlightAll() {
    paragraphs.forEach(p => p.element.classList.remove('current'));
}

function scrollToParagraph(element) {
    element.scrollIntoView({
        behavior: 'smooth',
        block: 'center'
    });
}


function updateUI(state) {
    const button = document.getElementById('playButton');
    if (button) {
        button.innerHTML = isPlaying ? 
            `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
            </svg>
            <span>Tạm dừng</span>` :
            `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <span>Đọc bài viết</span>`;
    }
    updateStatus(state);
}

// Update status
function updateStatus(state) {
    const status = document.getElementById('status');
    const statusText = document.getElementById('statusText');
    if (status && statusText) {
        status.className = 'status active ' + state;
        statusText.textContent = typeof state === 'string' ? state : 
            state === 'reading' ? 'Đang đọc...' :
            state === 'paused' ? 'Đã tạm dừng' :
            state === 'finished' ? 'Đã đọc xong' : '';
    }
}


function updateProgress(percent) {
    const progress = document.getElementById('progress');
    if (progress) {
        progress.style.width = percent + '%';
    }
}


function handleVoiceChange() {
    if (isPlaying) {
        restartReading();
    }
}


function handleRateChange() {
    if (isPlaying) {
        restartReading();
    }
}


function restartReading() {
    stopReading();
    startReading();
}


function showError(message) {
    console.error(message);
    const statusText = document.getElementById('statusText');
    const status = document.getElementById('status');
    if (statusText && status) {
        statusText.textContent = message;
        status.className = 'status active error';
    }
}


function updateParentHeight() {
    const height = document.documentElement.scrollHeight;
    window.parent.postMessage({ height: height }, '*');
}


function shareOnFacebook() {
    const url = window.location.href;
    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(url));
}

function shareOnTwitter() {
    const url = window.location.href;
    const title = document.title;
    window.open('https://twitter.com/intent/tweet?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(title));
}
</script>
</body>
</html>