
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Điều Cần Biết Về Tầm Soát Ung Thư Vú - Góc Nhìn Chuyên Gia - Tin Tức Y Khoa</title>
    
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=30xj8le1"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .article-category {
            display: inline-block;
            background: #0070c0;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 15px;
            line-height: 1.2;
            color: #333;
        }

        .article-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .reading-time {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 3px 8px;
            background: #f0f0f0;
            border-radius: 15px;
        }

        .featured-image {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .article-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .article-content p {
            margin-bottom: 15px;
            line-height: 1.8;
            padding: 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .article-content p.current {
            background: #f0f9ff;
            border-left: 3px solid #0070c0;
            padding-left: 15px;
        }

        .article-content img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            border-radius: 4px;
        }

         
        .speech-controls {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .speech-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .speech-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        .controls-container {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #0070c0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        #playButton {
            background: #0070c0;
        }

        #mp3Button {
            background: #28a745;
        }

        .control-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .control-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            min-width: 120px;
        }

        .progress-container {
            margin-top: 15px;
            background: #e9ecef;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #0070c0;
            width: 0;
            transition: width 0.3s;
        }

        .status {
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
            font-size: 0.9em;
        }

        .status.active {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status.reading {
            background: #e3f2fd;
            color: #0070c0;
            border-left: 4px solid #0070c0;
        }

        .status.paused {
            background: #fff3e0;
            color: #ef6c00;
            border-left: 4px solid #ef6c00;
        }

        .status.error {
            background: #ffebee;
            color: #c62828;
            border-left: 4px solid #c62828;
        }

         
        .audio-player {
            width: 100%;
            margin-top: 10px;
            display: none;
        }

        .audio-player.active {
            display: block;
        }

         
        .share-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .share-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: opacity 0.3s;
        }

        .share-button:hover {
            opacity: 0.9;
        }

        .share-button.facebook {
            background: #1877f2;
        }

        .share-button.twitter {
            background: #1da1f2;
        }

         
        .related-section {
            margin-top: 40px;
        }

        .related-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .related-article {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .related-article:hover {
            transform: translateY(-3px);
        }

        .related-article img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .related-article h3 {
            padding: 15px;
            margin: 0;
        }

        .related-article a {
            color: #333;
            text-decoration: none;
        }

        .related-article a:hover {
            color: #0070c0;
        }

        .related-article .date {
            display: block;
            padding: 0 15px 15px;
            color: #666;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.8em;
            }

            .article-meta {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls-container {
                flex-direction: column;
                align-items: stretch;
            }

            .related-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <span class="article-category">Sản Phụ Khoa</span>
        
        <h1>5 Điều Cần Biết Về Tầm Soát Ung Thư Vú - Góc Nhìn Chuyên Gia</h1>
        
        <div class="article-meta">
            <span>Đăng ngày 14/12/2024</span>
            <span class="reading-time">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                4 phút đọc
            </span>
        </div>

        <img src="https://raw.githubusercontent.com/fmcclinic/Medical_News/refs/heads/main/news/image/breast%20self%20examination.jpg" alt="5 Điều Cần Biết Về Tầm Soát Ung Thư Vú - Góc Nhìn Chuyên Gia" class="featured-image">

        <div class="article-content">
            <div class="speech-controls">
                <div class="speech-header">
                    <span class="speech-title">Nghe bài viết</span>
                </div>
                
                <div class="controls-container">
                    
                    <button id="mp3Button" class="control-button" style="display: none;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                            <line x1="12" y1="19" x2="12" y2="23"/>
                            <line x1="8" y1="23" x2="16" y2="23"/>
                        </svg>
                        Audio đã thu
                    </button>

                    
                    <button id="playButton" class="control-button" disabled>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        Đọc bài viết
                    </button>
                    
                    <div class="speed-control">
                        <select id="voiceSelect">
                            <option value="Vietnamese Female">Giọng Nữ</option>
                            <option value="Vietnamese Male">Giọng Nam</option>
                        </select>
                        <label for="rateSelect">Tốc độ đọc:</label>
                        <select id="rateSelect">
                            <option value="0.8">Chậm</option>
                            <option value="1" selected>Bình thường</option>
                            <option value="1.2">Nhanh</option>
                        </select>
                    </div>
                </div>

                
                <audio id="audioPlayer" class="audio-player">
                    <source id="audioSource" type="audio/mpeg">
                    Trình duyệt không hỗ trợ phát audio.
                </audio>

                <div class="progress-container">
                    <div id="progress" class="progress-bar"></div>
                </div>

                <div id="status" class="status">
                    <span id="statusText"></span>
                </div>
            </div>

            <p>Bác sĩ chuyên khoa 2 Nguyễn Hoàng Lam, với 20 năm kinh nghiệm trong lĩnh vực ung bướu sản phụ khoa, chia sẻ những điều quan trọng nhất mà mọi phụ nữ cần biết về tầm soát ung thư vú. "Có những dấu hiệu tưởng đơn giản nhưng không nên bỏ qua" - BS Lam nhấn mạnh.</p><p><br></p><h2>1. Dấu Hiệu Cảnh Báo Sớm</h2><p>"Nhiều chị em thường bỏ qua những dấu hiệu ban đầu, nghĩ rằng đó chỉ là những thay đổi bình thường của cơ thể," BS Lam chia sẻ. Các dấu hiệu cần đặc biệt lưu ý:</p><ul><li>Khối u cứng, không đau, bờ không đều</li><li>Thay đổi kích thước hoặc hình dáng vú</li><li>Da vú có hiện tượng lõm, sần như vỏ cam</li><li>Núm vú tụt, tiết dịch bất thường</li><li>Hạch nách sưng to</li></ul><p class="ql-align-justify"><strong>Quá trình tự khám vú gồm 5 bước.</strong></p><p class="ql-align-justify"><strong>Bước 1</strong></p><p class="ql-align-justify">Nhìn vào ngực của bạn trong gương với vai thẳng và cánh tay hạ xuống, nâng lên và trên hông. Bạn nên chú ý:</p><p class="ql-align-justify">Ngực có kích thước, hình dạng và màu sắc bình thường</p><p class="ql-align-justify">Ngực có hình dạng đều mà không bị biến dạng hoặc sưng tấy</p><p class="ql-align-justify"><img src="https://www.cioncancerclinics.com/images/blog/five/Picture1.jpg" alt="phòng khám ung thư cion"></p><p class="ql-align-justify"><strong>Bước 2</strong></p><p class="ql-align-justify">Đứng và ấn ba ngón giữa vào ngực, xoa bóp quanh ngực theo hướng tròn bằng tay phải để cảm nhận ngực trái và sau đó bằng tay trái để cảm nhận ngực phải. Dùng ngón tay chạm nhẹ, chắc chắn, giữ cho các ngón tay phẳng và khép lại với nhau. Dùng chuyển động tròn, có kích thước bằng đồng xu 1 Rupee. Thực hiện theo một mẫu để đảm bảo bạn bao phủ toàn bộ ngực. Bạn có thể bắt đầu từ mép ngoài của ngực, di chuyển theo các vòng tròn nhỏ hơn cho đến khi chạm đến núm vú.</p><p class="ql-align-justify"><img src="https://www.cioncancerclinics.com/images/blog/five/Picture2.jpg" alt="phòng khám ung thư cion"></p><p class="ql-align-justify"><strong>Bước 3</strong></p><p class="ql-align-justify">Bóp núm vú để kiểm tra xem có dịch tiết không. Đây có thể là chất lỏng, sữa hoặc vàng hoặc máu. Trong trường hợp có dịch tiết ra máu, hãy đến gặp bác sĩ ngay lập tức.</p><p class="ql-align-justify"><img src="https://www.cioncancerclinics.com/images/blog/five/Picture3.jpg" alt="phòng khám ung thư cion"></p><p class="ql-align-justify"><strong>Bước 4</strong></p><p class="ql-align-justify">Tiếp theo, hãy cảm nhận ngực của bạn khi nằm xuống. Đặt một chiếc gối hoặc khăn tắm gấp dưới vai trái của bạn. Điều này giúp mô ngực của bạn trải đều trên thành ngực. Bây giờ lặp lại Bước 2 và 3.</p><p class="ql-align-justify"><img src="https://www.cioncancerclinics.com/images/blog/five/Picture4.jpg" alt="phòng khám ung thư cion"></p><p class="ql-align-justify"><strong>Bước 5</strong></p><p class="ql-align-justify">Cuối cùng, hãy sờ ngực khi bạn đang tắm. Bạn sẽ dễ sờ ngực hơn khi da ướt và trơn. Xoa toàn bộ ngực, sử dụng các động tác tay giống như mô tả ở Bước 2.</p><p class="ql-align-justify"><img src="https://www.cioncancerclinics.com/images/blog/five/Picture5.jpg" alt="phòng khám ung thư cion"></p><p class="ql-align-justify"><strong>3 Dấu hiệu phổ biến nhất của ung thư vú khi tự kiểm tra</strong></p><p><br></p><h2>2. Phân Loại Đối Tượng Nguy Cơ</h2><h3>Nhóm Nguy Cơ Cao</h3><ul><li>Tiền sử gia đình có người mắc ung thư vú</li><li>Mang gen BRCA1/2</li><li>Đã điều trị xạ trị vùng ngực</li><li>Kinh nguyệt sớm trước 12 tuổi</li><li>Mãn kinh muộn sau 55 tuổi</li></ul><h3>Nhóm Nguy Cơ Trung Bình</h3><ul><li>Phụ nữ trên 40 tuổi</li><li>Chưa từng sinh con</li><li>Sinh con đầu lòng sau 30 tuổi</li><li>Thừa cân, béo phì sau mãn kinh</li></ul><h2>3. Các Phương Pháp Tầm Soát Hiện Đại</h2><h3>Chụp Nhũ Ảnh Kỹ Thuật Số (Digital Mammography)</h3><p>"Đây là tiêu chuẩn vàng trong tầm soát ung thư vú," BS Thảo khẳng định. Phương pháp này:</p><ul><li>Phát hiện tổn thương từ 2-3mm</li><li>Giảm liều tia xạ so với phương pháp truyền thống</li><li>Cho phép lưu trữ và so sánh kết quả theo thời gian</li></ul><h3>Siêu Âm Vú 3D/4D</h3><ul><li>Quan sát chi tiết cấu trúc mô vú</li><li>Phân biệt u nang và u đặc</li><li>Đặc biệt hiệu quả với phụ nữ có mô vú đặc</li></ul><h3>MRI Tuyến Vú</h3><ul><li>Chỉ định cho các trường hợp đặc biệt</li><li>Đánh giá chi tiết tổn thương đa ổ</li><li>Theo dõi sau điều trị</li></ul><h2>4. Lịch Trình Tầm Soát Theo Độ Tuổi</h2><h3>20-39 tuổi</h3><ul><li>Tự khám vú hàng tháng</li><li>Khám lâm sàng 3 năm/lần</li><li>Siêu âm vú khi có chỉ định</li></ul><h3>40-49 tuổi</h3><ul><li>Chụp nhũ ảnh 2 năm/lần</li><li>Khám lâm sàng hàng năm</li><li>Siêu âm vú bổ sung nếu cần</li></ul><h3>Trên 50 tuổi</h3><ul><li>Chụp nhũ ảnh hàng năm</li><li>Khám lâm sàng 6 tháng/lần</li><li>Các xét nghiệm bổ sung theo chỉ định</li></ul><h2>5. Các Yếu Tố Ảnh Hưởng Đến Kết Quả Tầm Soát</h2><p>BS Thảo nhấn mạnh một số yếu tố quan trọng:</p><h3>Thời Điểm Thích Hợp</h3><ul><li>7-10 ngày sau khi bắt đầu kỳ kinh</li><li>Tránh thời điểm vú căng tức</li><li>Buổi sáng khi cơ thể được nghỉ ngơi</li></ul><h3>Kỹ Thuật Thực Hiện</h3><ul><li>Tuân thủ hướng dẫn của kỹ thuật viên</li><li>Giữ tư thế đúng khi chụp nhũ ảnh</li><li>Thông báo các bất thường trước đó</li></ul><h3>Yếu Tố Môi Trường</h3><ul><li>Chọn cơ sở y tế uy tín</li><li>Trang thiết bị hiện đại</li><li>Đội ngũ chuyên môn có kinh nghiệm</li></ul><h2>Lời Khuyên Từ Chuyên Gia</h2><p>"Tầm soát ung thư vú không chỉ là việc đi khám định kỳ," BS Lam chia sẻ. "Đó là cả một quá trình chăm sóc sức khỏe liên tục, đòi hỏi sự kiên trì và chủ động từ mỗi người phụ nữ."</p><h2><br></h2>
            <div class="share-section">
                <div class="share-buttons">
                    <button onclick="shareOnFacebook()" class="share-button facebook">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg>
                        Chia sẻ Facebook
                    </button>
                    <button onclick="shareOnTwitter()" class="share-button twitter">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                        </svg>
                        Chia sẻ Twitter
                    </button>
                </div>
            </div>
        </div>

        <div class="related-section">
            <h2 class="related-title">Bài viết liên quan</h2>
            <div class="related-grid">
                
     <div class="related-article">
       <img src="https://www.drgrazer.com/wp-content/uploads/2020/07/post-surgical-scarring.jpg" alt="Làm sao để biết vết thương bị nhiễm trùng?">
       <h3>
         <a href="NEWS_20241219195539.html">Làm sao để biết vết thương bị nhiễm trùng?</a>
       </h3>
       <span class="date">19/12/2024</span>
     </div>
   
     <div class="related-article">
       <img src="https://www.drgrazer.com/wp-content/uploads/2020/07/post-surgical-scarring.jpg" alt="Làm sao để biết vết thương bị nhiễm trùng?">
       <h3>
         <a href="NEWS_20241219195422.html">Làm sao để biết vết thương bị nhiễm trùng?</a>
       </h3>
       <span class="date">19/12/2024</span>
     </div>
   
     <div class="related-article">
       <img src="https://marylandoncology.com/wp-content/uploads/2023/12/MOH-Feature-1.jpg" alt="Dinh dưỡng trong điều trị ung thư: Hướng dẫn toàn diện cho bệnh nhân và người chăm sóc">
       <h3>
         <a href="NEWS_20241217200433.html">Dinh dưỡng trong điều trị ung thư: Hướng dẫn toàn diện cho bệnh nhân và người chăm sóc</a>
       </h3>
       <span class="date">17/12/2024</span>
     </div>
               </div>
        </div>
    </div>

    <script>
        
        const VOICE_CONFIG = {
            'Vietnamese Female': {
                name: 'Vietnamese Female',
                lang: 'vi-VN',
                voiceURI: 'Vietnamese Female',
                rate: 1,
                pitch: 1.1,
               volume: 1
           },
           'Vietnamese Male': {
               name: 'Vietnamese Male', 
               lang: 'vi-VN',
               voiceURI: 'Vietnamese Male',
               rate: 1,
               pitch: 0.9,
               volume: 1
           }
       };

       
       let isPlaying = false;
       let currentParagraphIndex = 0;
       let paragraphs = [];
       let ttsInitialized = false;
       let hasMP3 = false;

       
       if (typeof responsiveVoice !== 'undefined') {
           responsiveVoice.OnVoiceReady = function() {
               console.log('ResponsiveVoice sẵn sàng');
               initTTS();
               checkForMP3();
           };
       }

       
       function initTTS() {
           try {
               if (!responsiveVoice.voiceSupport()) {
                   throw new Error('Trình duyệt không hỗ trợ TTS');
               }

               setupElements();
               setupEventListeners();
               loadParagraphs();
               
               document.getElementById('playButton').disabled = false;
               ttsInitialized = true;
               
               console.log('TTS đã khởi tạo thành công');
               updateStatus('Sẵn sàng đọc');

           } catch (error) {
               showError('Không thể khởi tạo TTS: ' + error.message);
           }
       }

       
function checkForMP3() {
    const audio = document.createElement('audio');
    const mp3Path = getMP3Path();
    
    
    audio.addEventListener('canplaythrough', function() {
        hasMP3 = true;
        setupMP3Player(mp3Path);
    });

    audio.addEventListener('error', function() {
        console.log('Không tìm thấy file MP3');
        hasMP3 = false;
    });

    
    audio.src = mp3Path;
    audio.load();
}

function getMP3Path() {
    
    const pathParts = window.location.pathname.split('/');
    const newsId = pathParts[pathParts.length - 1].replace('.html', '');
    
    
    const mp3Path = `${newsId}.mp3`;
    
    return mp3Path;
}

       
       function setupMP3Player(mp3Path) {
    try {
        const mp3Button = document.getElementById('mp3Button');
        const audioPlayer = document.getElementById('audioPlayer');

        
        if (mp3Button && audioPlayer) {
            mp3Button.style.display = 'flex';
            audioPlayer.querySelector('source').src = mp3Path;
            audioPlayer.load();

            mp3Button.addEventListener('click', toggleMP3);
            audioPlayer.addEventListener('timeupdate', updateMP3Progress);
            audioPlayer.addEventListener('ended', resetMP3);
            
            console.log('Đã thiết lập MP3 Player');
        }
    } catch (error) {
        console.error('Lỗi thiết lập MP3 Player:', error);
    }
}

       
       function toggleMP3() {
           const audioPlayer = document.getElementById('audioPlayer');
           const mp3Button = document.getElementById('mp3Button');

           if (isPlaying) {
               stopReading(); 
           }

           if (audioPlayer.paused) {
               audioPlayer.play();
               mp3Button.innerHTML = `
                   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                       <rect x="6" y="4" width="4" height="16"></rect>
                       <rect x="14" y="4" width="4" height="16"></rect>
                   </svg>
                   Tạm dừng Audio`;
           } else {
               audioPlayer.pause();
               resetMP3();
           }
       }

       // Update MP3 Progress
       function updateMP3Progress() {
           const audioPlayer = document.getElementById('audioPlayer');
           const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
           document.getElementById('progress').style.width = progress + '%';
       }

       
       function resetMP3() {
           const mp3Button = document.getElementById('mp3Button');
           mp3Button.innerHTML = `
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                   <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
                   <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                   <line x1="12" y1="19" x2="12" y2="23"/>
                   <line x1="8" y1="23" x2="16" y2="23"/>
               </svg>
               Audio đã thu`;
           document.getElementById('progress').style.width = '0%';
       }

       // Setup elements
       function setupElements() {
           const elements = ['playButton', 'voiceSelect', 'rateSelect', 'status', 'progress'];
           elements.forEach(id => {
               if (!document.getElementById(id)) {
                   throw new Error(`Thiếu element: ${id}`);
               }
           });
       }

       
       function setupEventListeners() {
           document.getElementById('playButton').addEventListener('click', toggleSpeech);
           document.getElementById('voiceSelect').addEventListener('change', handleVoiceChange);
           document.getElementById('rateSelect').addEventListener('change', handleRateChange);
       }

       
       function loadParagraphs() {
           paragraphs = Array.from(document.querySelectorAll('.article-content p'))
                           .map(p => p.textContent.trim())
                           .filter(text => text.length > 0);
           console.log(`Tìm thấy ${paragraphs.length} đoạn văn`);
       }

       
       function toggleSpeech() {
           if (!ttsInitialized) {
               showError('TTS chưa sẵn sàng');
               return;
           }

           if (!isPlaying) {
               startReading();
           } else {
               stopReading();
           }
       }

       
       function startReading() {
           isPlaying = true;
           currentParagraphIndex = 0;
           updateUI('reading');
           readNextParagraph();
       }

       
       function readNextParagraph() {
           if (currentParagraphIndex < paragraphs.length) {
               try {
                   const voiceName = document.getElementById('voiceSelect').value;
                   const voiceConfig = VOICE_CONFIG[voiceName];
                   const rate = parseFloat(document.getElementById('rateSelect').value);

                   updateProgress(((currentParagraphIndex + 1) / paragraphs.length) * 100);
                   highlightCurrentParagraph(true);

                   responsiveVoice.speak(
                       paragraphs[currentParagraphIndex],
                       voiceName,
                       {
                           pitch: voiceConfig.pitch,
                           rate: rate,
                           volume: voiceConfig.volume,
                           lang: voiceConfig.lang,
                           voiceURI: voiceConfig.voiceURI,
                           onstart: function() {
                               console.log(`Đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                               updateStatus(`Đang đọc đoạn ${currentParagraphIndex + 1}/${paragraphs.length}`);
                           },
                           onend: function() {
                               highlightCurrentParagraph(false);
                               currentParagraphIndex++;
                               if (isPlaying) {
                                   setTimeout(readNextParagraph, 100);
                               }
                           }
                       }
                   );
               } catch (error) {
                   console.error('Error:', error);
                   showError(error.message);
                   stopReading();
               }
           } else {
               finishReading();
           }
       }

       
       function stopReading() {
           responsiveVoice.cancel();
           isPlaying = false;
           highlightCurrentParagraph(false);
           updateUI('paused');
       }

       
       function finishReading() {
           isPlaying = false;
           updateProgress(100);
           updateUI('finished');
           console.log('Hoàn thành đọc bài viết');
       }

       
       function handleVoiceChange() {
           if (isPlaying) {
               restartReading();
           }
       }

       
       function handleRateChange() {
           if (isPlaying) {
               restartReading();
           }
       }

       
       function restartReading() {
           stopReading();
           startReading();
       }

       
       function updateUI(state) {
           const button = document.getElementById('playButton');
           if (button) {
               button.innerHTML = isPlaying ? 
                   '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>Tạm dừng' :
                   '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Đọc bài viết';
           }
           updateStatus(state);
       }

       
       function updateStatus(message) {
           const statusText = document.getElementById('statusText');
           const status = document.getElementById('status');
           if (statusText && status) {
               statusText.textContent = typeof message === 'string' ? message : 
                   message === 'reading' ? 'Đang đọc...' :
                   message === 'paused' ? 'Đã tạm dừng' :
                   message === 'finished' ? 'Đã đọc xong' : '';
               status.className = 'status active ' + message;
           }
       }

       
       function updateProgress(percent) {
           const progress = document.getElementById('progress');
           if (progress) {
               progress.style.width = percent + '%';
           }
       }

       
       function highlightCurrentParagraph(isHighlight) {
           const paragraphElements = document.querySelectorAll('.article-content p');
           paragraphElements.forEach(p => p.classList.remove('current'));
           
           if (isHighlight && paragraphElements[currentParagraphIndex]) {
               paragraphElements[currentParagraphIndex].classList.add('current');
               paragraphElements[currentParagraphIndex].scrollIntoView({
                   behavior: 'smooth',
                   block: 'center'
               });
           }
       }

       
       function showError(message) {
           console.error(message);
           updateStatus('error');
           const statusText = document.getElementById('statusText');
           if (statusText) {
               statusText.textContent = message;
           }
       }

       
       function shareOnFacebook() {
           const url = window.location.href;
           window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(url));
       }

       function shareOnTwitter() {
           const url = window.location.href;
           const title = document.title;
           window.open('https://twitter.com/intent/tweet?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(title));
       }

       
       function updateParentHeight() {
           const height = document.documentElement.scrollHeight;
           window.parent.postMessage({ height: height }, '*');
       }

       
       document.addEventListener('DOMContentLoaded', function() {
           updateParentHeight();
       });

       
       new ResizeObserver(updateParentHeight).observe(document.body);
   </script>
</body>
</html>